<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ObjectArraySample</title>
<style type="text/css">

	table {
	width: 800px;
	}
	
	th {
	width:13%;
	background-color: tomato;
	color: white;
	}
	
	th,td{
	border: 1px solid tomato;
	padding: 7px 12px;
	text-align: center;
	}
	
</style>
</head>
<body>
<hr>
	<h4>오늘의 스케쥴</h4>
	<table>
		<tr>
			<th>TIME</th>
			<th>TODO</th>
		</tr>
		<tbody id="contents">
			<!-- 오브젝트 배열의 요소값을 가져다가 tr태그 1개행 만들기 -->
			<tr>
		</tbody>
	</table>
	<button id="todoAddBtn">스케쥴 추가</button>
	<button id="sortBtn">정렬 버튼</button>


<script type="text/javascript">


	const schedules = [{time:'09:00',todo:'수업'},
					{time:'11:00',todo:'과제'},
					{time:'12:30',todo:'점심식사'},
					{time:'14:00',todo:'주간회의'},
					{time:'16:45',todo:'자유조사'}]
	
	const contentsTable = document.getElementById('contents');
	
	let result =''
	setView()
	/* 
		const 로 선언한 함수는 호출하기 전에 미리 정의가 되어 있어야 합니다.
		function 정의한 함수는 자바스크립트에서 함수 끌어올리기.(함수 hoisting).function 정의는 맨 앞으로
		
	*/
	function setView(){
		result=''
	
	schedules.forEach((obj)=>{
		console.log(obj)
		console.log(obj.time)
		console.log(obj.todo)
		result += `<tr><td>${obj.time}</td>
			<td>${obj.todo}</td></tr>`
	})
	document.getElementById('contents').innerHTML=result
	
	
	}// setView()end
	/*
	 schedules.forEach((schedule) => {
		  const row = document.createElement('tr');
		  row.innerHTML = `
		    <td>${schedule.time}</td>
		    <td>${schedule.todo}</td>
		  `;
		  contentsTable.appendChild(row);
	});
	*/
	 document.getElementById('todoAddBtn').addEventListener('click',()=>{
		 const time3 = prompt('시간을 입력하세요');
			const todo3 = prompt('할일을 입력하세요');
			
			const temp = {time:time3,todo:todo3}
			schedules.push(temp)
			
			const row = document.createElement('tr');
			const pushdata = 
				`<td>${time3}</td>
				<td>${todo3}</td>`
			row.innerHTML = pushdata
			document.getElementById('contents').appendChild(row)
	});
	document.getElementById('sortBtn').addEventListener('click',()=>{
		schedules.sort((a,b) => {
			if(a.time < b.time){
				return -1
			}else{
				return 1
			}
		})
		setView();
	});
	
</script>
</body>
</html>